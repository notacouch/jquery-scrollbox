!function($){$.fn.scrollbox=function(e){var t={linear:!1,startDelay:2,delay:3,step:5,speed:32,switchItems:1,direction:"vertical",distance:"auto",autoPlay:!0,onMouseOverPause:!0,paused:!1,queue:null,listElement:"ul",listItemElement:"li"};return e=$.extend(t,e),e.scrollOffset="vertical"===e.direction?"scrollTop":"scrollLeft",e.queue&&(e.queue=$("#"+e.queue)),this.each(function(){var t=$(this),l,n=null,i=null,s=!1,r,a,o,c,f,u,d;e.onMouseOverPause&&(t.bind("mouseover",function(){s=!0}),t.bind("mouseout",function(){s=!1})),l=t.children(e.listElement+":first-child"),c=function(){if(!s){var r,o,c,f,u;if(r=l.children(e.listItemElement+":first-child"),f="auto"!==e.distance?e.distance:"vertical"===e.direction?r.outerHeight(!0):r.outerWidth(!0),e.linear?c=Math.min(t[0][e.scrollOffset]+e.step,f):(u=Math.max(3,parseInt(.3*(f-t[0][e.scrollOffset]),10)),u>l.height()-t.height()&&(u=Math.max(3,parseInt(.3*u,10))),c=Math.min(t[0][e.scrollOffset]+u,f)),t[0][e.scrollOffset]=c,c>=f||t[0][e.scrollOffset]!=c){for(o=0;o<e.switchItems;o++)e.queue&&e.queue.find(e.listItemElement).length>0?(l.append(e.queue.find(e.listItemElement)[0]),l.children(e.listItemElement+":first-child").remove()):l.append(l.children(e.listItemElement+":first-child"));t[0][e.scrollOffset]=0,clearInterval(n),e.autoPlay&&(i=setTimeout(a,1e3*e.delay))}}},f=function(){if(!s){var r,o,c,f,u,d;if(0===t[0][e.scrollOffset]){for(c=l.children(e.listItemElement).length,o=0;o<e.switchItems;o++)l.children(e.listItemElement+":last-child").insertBefore(l.children(e.listItemElement+":first-child"));r=l.children(e.listItemElement+":first-child"),u="auto"!==e.distance?e.distance:"vertical"===e.direction?r.height():r.width(),t[0][e.scrollOffset]=u}e.linear?f=Math.max(t[0][e.scrollOffset]-e.step,0):(d=Math.max(3,parseInt(.3*t[0][e.scrollOffset],10)),f=Math.max(t[0][e.scrollOffset]-d,0)),t[0][e.scrollOffset]=f,0===f&&(clearInterval(n),e.autoPlay&&(i=setTimeout(a,1e3*e.delay)))}},a=function(){clearInterval(n),n=setInterval(c,e.speed)},u=function(){e.autoPlay=!0,s=!1,clearInterval(n),n=setInterval(c,e.speed)},d=function(){s=!0},r=function(){clearInterval(n),n=setInterval(f,e.speed)},o=function(t){e.delay=t||e.delay,clearTimeout(i),e.autoPlay&&(i=setTimeout(a,1e3*e.delay))},e.autoPlay&&(i=setTimeout(a,1e3*e.startDelay)),t.bind("resetClock",function(e){o(e)}),t.bind("forward",function(){clearTimeout(i),a()}),t.bind("pauseHover",function(){d()}),t.bind("forwardHover",function(){u()}),t.bind("backward",function(){clearTimeout(i),r()}),t.bind("speedUp",function(t){"undefined"==typeof t&&(t=Math.max(1,parseInt(e.speed/2,10))),e.speed=t}),t.bind("speedDown",function(t){"undefined"==typeof t&&(t=2*e.speed),e.speed=t})})}}(jQuery);